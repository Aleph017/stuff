import random

# ANSI escape codes для цветов
GREEN = '\033[92m'
RED = '\033[91m'
RESET = '\033[0m'

# Словарь с хираганой и катаканой, транслитерацией на кириллице и латинице
kana_dict = {
    'хирагана': {
        'あ': ('а', 'a'),
        'い': ('и', 'i'),
        'う': ('у', 'u'),
        'え': ('э', 'e'),
        'お': ('о', 'o'),
        'か': ('ка', 'ka'),
        'き': ('ки', 'ki'),
        'く': ('ку', 'ku'),
        'け': ('кэ', 'ke'),
        'こ': ('ко', 'ko'),
        'さ': ('са', 'sa'),
        'し': ('си', 'shi'),
        'す': ('су', 'su'),
        'せ': ('сэ', 'se'),
        'そ': ('со', 'so'),
        'た': ('та', 'ta'),
        'ち': ('ти', 'chi'),
        'つ': ('цу', 'tsu'),
        'て': ('тэ', 'te'),
        'と': ('то', 'to'),
        'な': ('на', 'na'),
        'に': ('ни', 'ni'),
        'ぬ': ('ну', 'nu'),
        'ね': ('нэ', 'ne'),
        'の': ('но', 'no'),
        'は': ('ха', 'ha'),
        'ひ': ('хи', 'hi'),
        'ふ': ('фу', 'fu'),
        'へ': ('хэ', 'he'),
        'ほ': ('хо', 'ho'),
        'ま': ('ма', 'ma'),
        'み': ('ми', 'mi'),
        'む': ('му', 'mu'),
        'め': ('мэ', 'me'),
        'も': ('мо', 'mo'),
        'や': ('я', 'ya'),
        'ゆ': ('ю', 'yu'),
        'よ': ('ё', 'yo'),
        'ら': ('ра', 'ra'),
        'り': ('ри', 'ri'),
        'る': ('ру', 'ru'),
        'れ': ('рэ', 're'),
        'ろ': ('ро', 'ro'),
        'わ': ('ва', 'wa'),
        'を': ('о', 'wo'),
        'ん': ('н', 'n')
    },
    'катакана': {
        'ア': ('а', 'a'),
        'イ': ('и', 'i'),
        'ウ': ('у', 'u'),
        'エ': ('э', 'e'),
        'オ': ('о', 'o'),
        'カ': ('ка', 'ka'),
        'キ': ('ки', 'ki'),
        'ク': ('ку', 'ku'),
        'ケ': ('кэ', 'ke'),
        'コ': ('ко', 'ko'),
        'サ': ('са', 'sa'),
        'シ': ('си', 'shi'),
        'ス': ('су', 'su'),
        'セ': ('сэ', 'se'),
        'ソ': ('со', 'so'),
        'タ': ('та', 'ta'),
        'チ': ('ти', 'chi'),
        'ツ': ('цу', 'tsu'),
        'テ': ('тэ', 'te'),
        'ト': ('то', 'to'),
        'ナ': ('на', 'na'),
        'ニ': ('ни', 'ni'),
        'ヌ': ('ну', 'nu'),
        'ネ': ('нэ', 'ne'),
        'ノ': ('но', 'no'),
        'ハ': ('ха', 'ha'),
        'ヒ': ('хи', 'hi'),
        'フ': ('фу', 'fu'),
        'ヘ': ('хэ', 'he'),
        'ホ': ('хо', 'ho'),
        'マ': ('ма', 'ma'),
        'ミ': ('ми', 'mi'),
        'ム': ('му', 'mu'),
        'メ': ('мэ', 'me'),
        'モ': ('мо', 'mo'),
        'ヤ': ('я', 'ya'),
        'ユ': ('ю', 'yu'),
        'ヨ': ('ё', 'yo'),
        'ラ': ('ра', 'ra'),
        'リ': ('ри', 'ri'),
        'ル': ('ру', 'ru'),
        'レ': ('рэ', 're'),
        'ロ': ('ро', 'ro'),
        'ワ': ('ва', 'wa'),
        'ヲ': ('о', 'wo'),
        'ン': ('н', 'n')
    }
}


def main():
    # Выбор азбуки
    while True:
        azbuka = input("Какую азбуку вы хотите учить? (хирагана/катакана): ").strip().lower()
        if azbuka in kana_dict:
            break
        else:
            print("Неверный выбор. Попробуйте снова.")

    while True:
        # Выбор случайного символа из выбранной азбуки
        symbol, transliterations = random.choice(list(kana_dict[azbuka].items()))

        # Вывод символа и прием ввода пользователя
        user_input = input(f"Введите транслитерацию символа {symbol} (или введите 'quit'/'exit' для выхода): ").strip().lower()

        # Проверка на выход из программы
        if user_input in ('quit', 'exit'):
            print("До свидания!")
            break

        # Проверка правильности ввода
        if user_input in transliterations:
            print(f"{GREEN}Правильно!{RESET}")
        else:
            print(f"{RED}Неправильно. Правильный ответ: {transliterations[0]} или {transliterations[1]}.{RESET} Попробуйте снова.")

if __name__ == "__main__":
    main()
